<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fish Ball Collector / ‡∂∏‡∑è‡∑Ö‡∑î ‡∂∂‡∑ù‡∂Ω ‡∂ë‡∂ö‡∂≠‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑è</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>Fish Ball Collector</h1>
        <div class="subtitle">‡∂∏‡∑è‡∑Ö‡∑î ‡∂∂‡∑ù‡∂Ω ‡∂ë‡∂ö‡∂≠‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑è</div>
        
        <div class="game-info">
            <div class="info-item">
                <div class="info-label">
                    <div class="bilingual">
                        <div class="sinhala">‡∂Ω‡∂ö‡∑î‡∂´‡∑î</div>
                        <div class="english">SCORE</div>
                    </div>
                </div>
                <div id="score" class="info-value">0</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">
                    <div class="bilingual">
                        <div class="sinhala">‡∂ª‡∂≠‡∑î ‡∂∂‡∑ù‡∂Ω ‡∑É‡∑ä‡∂¥‡∂ª‡∑ä‡∑Å ‡∂ö‡∑Ö‡∑è</div>
                        <div class="english">RED BALLS TOUCHED</div>
                    </div>
                </div>
                <div class="game-status">
                    <div class="red-ball-counter" id="redBall1">0</div>
                    <div class="red-ball-counter" id="redBall2">1</div>
                    <div class="red-ball-counter" id="redBall3">2</div>
                </div>
            </div>
            
            <div class="info-item">
                <div class="info-label">
                    <div class="bilingual">
                        <div class="sinhala">‡∂∂‡∑ù‡∂Ω ‡∂ë‡∂ö‡∂≠‡∑î ‡∂ö‡∑Ö‡∑è</div>
                        <div class="english">BALLS COLLECTED</div>
                    </div>
                </div>
                <div id="ballsCollected" class="info-value">0</div>
            </div>
        </div>
        
        <div class="messages-container" id="messagesContainer"></div>
        
        <canvas id="gameCanvas" width="800" height="500"></canvas>
        
        <div class="controls">
            <button id="startBtn">Start Game</button>
            <button id="pauseBtn">Pause</button>
            <button id="restartBtn">Restart</button>
        </div>
        
        <div class="sound-controls">
            <button id="soundOnBtn" class="sound-btn">üîä Sound On</button>
            <button id="soundOffBtn" class="sound-btn">üîá Sound Off</button>
        </div>
        
        <div class="voice-controls">
            <button id="voiceOnBtn" class="voice-btn active">üé§ Voice On</button>
            <button id="voiceOffBtn" class="voice-btn">üîá Voice Off</button>
        </div>
        
        <div class="language-toggle">
            <button id="sinhalaBtn" class="language-btn">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</button>
            <button id="englishBtn" class="language-btn active">English</button>
        </div>
        
        <div class="instructions">
            <h3>How to Play / ‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∑è ‡∂ö‡∂ª‡∂± ‡∂Ü‡∂ö‡∑è‡∂ª‡∂∫</h3>
            <ul>
                <li>Use your mouse or touch to move Flippy the Fish around / ‡∂∏‡∑ñ‡∑É‡∑í‡∂ö‡∂∫ ‡∑Ñ‡∑ù ‡∂á‡∂ü‡∑í‡∂Ω‡∑ä‡∂Ω‡∑ô‡∂±‡∑ä ‡∑Ü‡∑ä‡∂Ω‡∑í‡∂¥‡∑ä‡∂¥‡∑ì ‡∂∏‡∑è‡∑Ö‡∑î‡∑Ä‡∑è ‡∂†‡∂Ω‡∂±‡∂∫ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</li>
                <li>Collect balls to earn points: 
                    <span class="color-sample blue-ball"></span> Blue = 10 points / ‡∂±‡∑í‡∂Ω‡∑ä = 10 ‡∂Ω‡∂ö‡∑î‡∂´‡∑î, 
                    <span class="color-sample green-ball"></span> Green = 20 points / ‡∂ö‡∑ú‡∑Ö = 20 ‡∂Ω‡∂ö‡∑î‡∂´‡∑î,
                    <span class="color-sample red-ball"></span> Red = 30 points but be careful! / ‡∂ª‡∂≠‡∑î = 30 ‡∂Ω‡∂ö‡∑î‡∂´‡∑î (‡∂¥‡∑ä‚Äç‡∂ª‡∑Ä‡∑ö‡∑Å‡∂∏‡∑ä ‡∑Ä‡∂±‡∑ä‡∂±!)
                </li>
                <li>If you touch 3 red balls, the game is over! / ‡∂ª‡∂≠‡∑î ‡∂∂‡∑ù‡∂Ω 3‡∂ö‡∑ä ‡∑É‡∑ä‡∂¥‡∂ª‡∑ä‡∑Å ‡∂ö‡∑Ö‡∑ö ‡∂±‡∂∏‡∑ä ‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∑è‡∑Ä ‡∂Ö‡∑Ä‡∑É‡∂±‡∑ä!</li>
                <li>Special celebrations at 50, 100, 200, 300, 400... points! / ‡∑Ä‡∑í‡∑Å‡∑ö‡∑Ç ‡∑É‡∂∏‡∂ª‡∑î 50, 100, 200, 300, 400... ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∑Ä‡∂Ω‡∂Ø‡∑ì!</li>
                <li>Voice messages for celebrations / ‡∑É‡∂∏‡∂ª‡∑î ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Å‡∂∂‡∑ä‡∂Ø ‡∂¥‡∂´‡∑í‡∑Ä‡∑í‡∂©</li>
                <li>Red balls appear one quarter as often as blue/green balls / ‡∂ª‡∂≠‡∑î ‡∂∂‡∑ù‡∂Ω ‡∂±‡∑í‡∂Ω‡∑ä ‡∑Ñ‡∑ù ‡∂ö‡∑ú‡∑Ö ‡∂∂‡∑ù‡∂Ω ‡∑Ä‡∂Ω‡∂ß ‡∑Ä‡∂©‡∑è ‡∑É‡∑í‡∑Ä‡∑ä ‡∂ú‡∑î‡∂´‡∂∫‡∂ö‡∑í‡∂±‡∑ä ‡∂Ö‡∂©‡∑î‡∑Ä‡∑ô‡∂±‡∑ä ‡∂Ø‡∑í‡∑É‡∑ä‡∑Ä‡∑ö</li>
            </ul>
        </div>
        
        <div id="gameOver">
            <h2>GAME OVER</h2>
            <p>You touched 3 red balls! / ‡∂ª‡∂≠‡∑î ‡∂∂‡∑ù‡∂Ω 3‡∂ö‡∑ä ‡∑É‡∑ä‡∂¥‡∂ª‡∑ä‡∑Å ‡∂ö‡∑Ö‡∑è!</p>
            <div id="finalScore">Final Score: 0 / ‡∂Ö‡∑Ä‡∑É‡∑è‡∂± ‡∂Ω‡∂ö‡∑î‡∂´‡∑î: 0</div>
            <button id="playAgainBtn">Play Again / ‡∂∫‡∑Ö‡∑í ‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
        </div>
    </div>

    <script>
        // Global Game State - Shared across all modules
        window.gameState = {
            // Game variables
            currentLanguage: 'english',
            gameRunning: false,
            gamePaused: false,
            soundEnabled: true,
            voiceEnabled: true,
            speechSynthesisSupported: false,
            particles: [],
            sounds: {},
            voices: [],
            lastCelebrationScore: 0,
            
            // Game data
            score: 0,
            ballsCollected: 0,
            redBallsTouched: 0,
            balls: [],
            blueBallCount: 0,
            greenBallCount: 0,
            redBallCount: 0,
            ballSpawnTimer: 0,
            
            // DOM elements (will be initialized)
            canvas: null,
            ctx: null,
            scoreElement: null,
            ballsCollectedElement: null,
            redBallCounters: null,
            gameOverScreen: null,
            finalScoreElement: null,
            messagesContainer: null,
            
            // Game objects
            fish: null,
            animationId: null,
            
            // Mouse position
            mouseX: 400,
            mouseY: 250,
            
            // Constants
            ballColors: ['#2196F3', '#4CAF50', '#F44336'],
            ballPoints: [10, 20, 30],
            ballRadius: 20,
            ballSpawnInterval: 60,
            MAX_RED_BALLS: 3
        };
    </script>
    
    <script src="data/messages.js"></script>
    <script src="js/sounds.js"></script>
    <script src="js/speech.js"></script>
    <script src="js/game.js"></script>
</body>
</html>